# ì„œë¹„ìŠ¤ í™•ì¥ ì „ í•„ìˆ˜ ë³´ì™„ ë° ê°œë°œ ê°€ì´ë“œ (ì‹¤ì „ìš©)

---

## 0. ì´ ê°€ì´ë“œì˜ ëª©ì 
- **í™•ì¥/ì‹ ê·œ ê¸°ëŠ¥ ê°œë°œ ì‹œ, ê¸°ì¡´ í’ˆì§ˆê³¼ ì¼ê´€ì„±ì„ ë°˜ë“œì‹œ ìœ ì§€**
- **ëª¨ë“  íŒ€ì›ì´ "ì™œ"ì™€ "ì–´ë–»ê²Œ"ë¥¼ ëª…í™•íˆ ì´í•´í•˜ê³ , ë°©í–¥ì„± ì´íƒˆ ì—†ì´ ì‘ì—…**
- **í…ŒìŠ¤íŠ¸ ìë™í™”ì™€ ì½”ë“œë¦¬ë·°ë¥¼ í†µí•´ "ê¸°ì¡´ ê¸°ëŠ¥ì´ ê¹¨ì§€ì§€ ì•ŠëŠ”" ê°œë°œ ë¬¸í™” ì •ì°©**

---

## 1. ì¸ì¦/ê¶Œí•œ ì‹œìŠ¤í…œ

### 1.1. ì¸ì¦/ì„¸ì…˜ ê´€ë¦¬
- **JWT ê¸°ë°˜ ì¸ì¦**: ëª¨ë“  APIëŠ” í† í°ì´ ì—†ìœ¼ë©´ 401 ë°˜í™˜, í”„ë¡ íŠ¸ëŠ” ì¦‰ì‹œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
- **í† í° ë§Œë£Œ/ê°±ì‹ **: refresh token, ìë™ ì¬ë¡œê·¸ì¸/ë§Œë£Œ ì•ˆë‚´
- **ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”/ë³€ê²½/ì°¾ê¸°**: bcrypt, ì´ë©”ì¼ ì¸ì¦ ë“±

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: API ì¸ì¦ í—¤ë” ì²˜ë¦¬

**ì˜ëª»ëœ ì˜ˆì‹œ:**
```typescript
// ì¸ì¦ í—¤ë” ì—†ì´ ìš”ì²­
const addChecklistItem = async (data: ChecklistItem) => {
  const response = await fetch('/api/checklist', {
    method: 'POST',
    body: JSON.stringify(data)
  });
  return response.json();
};
```

**ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:**
```typescript
// ì¸ì¦ í—¤ë” í¬í•¨
const addChecklistItem = async (data: ChecklistItem) => {
  // Next.jsì˜ ê²½ìš° getSession ë˜ëŠ” ì¿ í‚¤ì—ì„œ í† í° ê°€ì ¸ì˜¤ê¸°
  const token = await getSession()?.accessToken || getCookie('authToken');
  
  if (!token) {
    throw new Error('ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤');
  }

  const response = await fetch('/api/checklist', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify(data)
  });

  if (response.status === 401) {
    // í† í° ë§Œë£Œ ì‹œ ìë™ ë¡œê·¸ì•„ì›ƒ
    signOut({ callbackUrl: '/login' });
    throw new Error('ì¸ì¦ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤');
  }

  return response.json();
};
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì„œë²„ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´

```typescript
// server/middleware/auth.ts
import jwt from 'jsonwebtoken';
import { NextRequest, NextResponse } from 'next/server';

export const authMiddleware = (req: NextRequest) => {
  const token = req.headers.get('authorization')?.replace('Bearer ', '');
  
  if (!token) {
    return NextResponse.json(
      { error: 'ì¸ì¦ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤' }, 
      { status: 401 }
    );
  }

  try {
    // í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ì‹œ íƒ€ì… ì•ˆì „ì„± í™•ë³´
    const jwtSecret = process.env.JWT_SECRET;
    if (!jwtSecret) {
      console.error('JWT_SECRET í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
      return NextResponse.json(
        { error: 'ì„œë²„ ì„¤ì • ì˜¤ë¥˜' }, 
        { status: 500 }
      );
    }
    
    const decoded = jwt.verify(token, jwtSecret);
    // Next.jsì—ì„œëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ ì „ë‹¬
    // req.headers.set('user', JSON.stringify(decoded));
    return NextResponse.next();
  } catch (error) {
    return NextResponse.json(
      { error: 'ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤' }, 
      { status: 401 }
    );
  }
};
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] ëª¨ë“  APIì— ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì ìš©
  - [ ] í† í° ë§Œë£Œ ì‹œ í”„ë¡ íŠ¸ ìë™ ë¡œê·¸ì•„ì›ƒ
  - [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½/ì°¾ê¸° UI êµ¬í˜„

### 1.2. ê¶Œí•œ ëª¨ë¸
- **ì—­í• (Role) ê¸°ë°˜**: admin, manager, user ë“±
- **ë¦¬ì†ŒìŠ¤ë³„ ê¶Œí•œ**: ì²´í¬ë¦¬ìŠ¤íŠ¸, íŠ¸ë¦¬, ì˜µì…˜, íšŒì›ì •ë³´ ë“± ê°ê°ì— ëŒ€í•´ CRUD ê¶Œí•œ ë¶„ë¦¬
- **ê¶Œí•œ ì—†ëŠ” ê¸°ëŠ¥ì€ UI/ì•¡ì…˜ ìˆ¨ê¹€/ë¹„í™œì„±í™”**
- **ì„œë²„ ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì´ì¤‘ ì²´í¬(í”„ë¡ íŠ¸+ë°±ì—”ë“œ)**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ê¶Œí•œ ì²´í¬ ì»´í¬ë„ŒíŠ¸

```typescript
// components/common/PermissionGuard.tsx
import { useSession } from 'next-auth/react';

interface PermissionGuardProps {
  permission: string;
  children: React.ReactNode;
  fallback?: React.ReactNode;
}

export const PermissionGuard: React.FC<PermissionGuardProps> = ({
  permission,
  children,
  fallback = null
}) => {
  const { data: session } = useSession();
  
  if (!session?.user?.permissions?.includes(permission)) {
    return <>{fallback}</>;
  }
  
  return <>{children}</>;
};

// ì‚¬ìš© ì˜ˆì‹œ
<PermissionGuard permission="checklist:write">
  <button onClick={handleAdd}>ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶”ê°€</button>
</PermissionGuard>
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì„œë²„ ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´

```typescript
// server/middleware/permissions.ts
import { NextRequest, NextResponse } from 'next/server';

export const requirePermission = (permission: string) => {
  return (req: NextRequest) => {
    // Next.jsì—ì„œëŠ” ì„¸ì…˜ ì •ë³´ë¥¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼ í•¨
    const user = req.headers.get('user'); // ì‹¤ì œë¡œëŠ” ì„¸ì…˜ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨
    
    if (!user?.permissions?.includes(permission)) {
      return NextResponse.json({ 
        error: 'í•´ë‹¹ ì‘ì—…ì— ëŒ€í•œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤' 
      }, { status: 403 });
    }
    
    return NextResponse.next();
  };
};

// ì‚¬ìš© ì˜ˆì‹œ (Next.js API Route)
export async function POST(req: NextRequest) {
  const authResult = authMiddleware(req);
  if (authResult instanceof NextResponse) return authResult;
  
  const permissionResult = requirePermission('checklist:write')(req);
  if (permissionResult instanceof NextResponse) return permissionResult;
  
  // ì‹¤ì œ ë¡œì§ ì²˜ë¦¬
  return createChecklist(req);
}
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] DBì— role/permissions í•„ë“œ ì¶”ê°€
  - [ ] ì„œë²„ ë¯¸ë“¤ì›¨ì–´ì—ì„œ ê¶Œí•œ ì²´í¬
  - [ ] í”„ë¡ íŠ¸ì—ì„œ ê¶Œí•œ ì—†ëŠ” ë²„íŠ¼/ì•¡ì…˜ ìˆ¨ê¹€

---

## 2. ë°ì´í„° êµ¬ì¡°/ì•„í‚¤í…ì²˜

### 2.1. ê¸°ì¢…ë³„ êµ¬ì¡°/ì˜µì…˜ ë¶„ë¦¬
- **DB/ì—”í‹°í‹°ì— model(ê¸°ì¢…) í•„ë“œ ì¶”ê°€**
- **APIëŠ” model íŒŒë¼ë¯¸í„° í•„ìˆ˜**
- **í”„ë¡ íŠ¸: ë¡œê·¸ì¸ â†’ ê¸°ì¢… ì„ íƒ â†’ ê¸°ì¢…ë³„ ë©”ì¸í˜ì´ì§€**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ê¸°ì¢…ë³„ ë°ì´í„° êµ¬ì¡°

```typescript
// types/checklist.ts
export interface ChecklistItem {
  id: string;
  modelId: string; // ê¸°ì¢…ë³„ ë¶„ë¦¬
  section: string;
  taskName: string;
  options: string[];
  description?: string;
  completed: boolean;
  createdAt: Date;
  updatedAt: Date;
}

export interface Option {
  id: string;
  modelId: string;
  name: string;
  code: string;
  order: number;
  description?: string;
  isActive: boolean;
}

// API ìš”ì²­ ì‹œ ê¸°ì¢… íŒŒë¼ë¯¸í„° í•„ìˆ˜
const getChecklistItems = async (modelId: string): Promise<ChecklistItem[]> => {
  const response = await fetch(`/api/checklist?modelId=${modelId}`, {
    headers: { 
      'Authorization': `Bearer ${await getSession()?.accessToken}` 
    }
  });
  return response.json();
};
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ê¸°ì¢… ì„ íƒ ì»´í¬ë„ŒíŠ¸

```typescript
// components/ModelSelector.tsx
import { useState, useEffect } from 'react';
import { useRouter } from 'next/router';

interface Model {
  id: string;
  name: string;
  code: string;
}

const ModelSelector: React.FC = () => {
  const [selectedModel, setSelectedModel] = useState<string>('');
  const [models, setModels] = useState<Model[]>([]);
  const router = useRouter();

  useEffect(() => {
    // ê¸°ì¢… ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    const fetchModels = async () => {
      const response = await fetch('/api/models');
      const data = await response.json();
      setModels(data);
    };
    fetchModels();
  }, []);

  const handleModelSelect = (modelId: string) => {
    setSelectedModel(modelId);
    // ì¿ í‚¤ì— ì„ íƒëœ ê¸°ì¢… ì €ì¥
    document.cookie = `selectedModel=${modelId}; path=/`;
    
    // ê¸°ì¢… ë³€ê²½ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë˜ëŠ” ìƒíƒœ ì—…ë°ì´íŠ¸
    router.push(`/checklist?modelId=${modelId}`);
  };

  return (
    <select 
      value={selectedModel} 
      onChange={(e) => handleModelSelect(e.target.value)}
      className="border rounded px-3 py-2"
    >
      <option value="">ê¸°ì¢… ì„ íƒ</option>
      {models?.map(model => (
        <option key={model.id} value={model.id}>
          {model.name}
        </option>
      ))}
    </select>
  );
};
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] ëª¨ë“  ì£¼ìš” í…Œì´ë¸”ì— modelId í•„ë“œ ì¶”ê°€
  - [ ] APIì— model íŒŒë¼ë¯¸í„° ì ìš©
  - [ ] ê¸°ì¢…ë³„ ë¼ìš°íŒ…/í˜ì´ì§€ êµ¬ì¡° ì„¤ê³„

### 2.2. ì˜µì…˜(í•„í„°) ê´€ë¦¬ ê¸°ëŠ¥
- **ê¸°ì¢…ë³„ ì˜µì…˜ ê´€ë¦¬ í˜ì´ì§€**: CRUD, drag&drop ìˆœì„œë³€ê²½, soft delete ë“± UX
- **ê¶Œí•œ**: ê´€ë¦¬ì/ê¶Œí•œìë§Œ í¸ì§‘ ê°€ëŠ¥
- **ì˜µì…˜ ë³€ê²½ ì‹œ ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ì±… ëª…í™•í™”**
- **ì˜µì…˜ ì‚­ì œ ì‹œ ê¸°ì¡´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© ì²˜ë¦¬(soft delete, ëŒ€ì²´ê°’ ë“±)**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì˜µì…˜ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸

```typescript
// components/options/OptionManager.tsx
import { useState, useEffect } from 'react';
import { useSession } from 'next-auth/react';

interface Option {
  id: string;
  modelId: string;
  name: string;
  code: string;
  order: number;
  description?: string;
  isActive: boolean;
}

const OptionManager: React.FC = () => {
  const [options, setOptions] = useState<Option[]>([]);
  const [selectedModel, setSelectedModel] = useState<string>('');
  const { data: session } = useSession();

  const addOption = async (newOption: Omit<Option, 'id'>) => {
    const response = await fetch('/api/options', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${session?.accessToken}`
      },
      body: JSON.stringify({ ...newOption, modelId: selectedModel })
    });
    
    if (response.ok) {
      // ì˜µì…˜ ì¶”ê°€ í›„ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
      fetchOptions();
    }
  };

  const deleteOption = async (optionId: string) => {
    // ì˜µì…˜ ì‚­ì œ ì‹œ ê¸°ì¡´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© ì²˜ë¦¬ í™•ì¸
    const hasRelatedItems = await checkRelatedItems(optionId);
    
    if (hasRelatedItems) {
      const confirmed = window.confirm(
        'ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª©ì´ ìˆìŠµë‹ˆë‹¤. ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'
      );
      if (!confirmed) return;
    }

    await fetch(`/api/options/${optionId}`, {
      method: 'DELETE',
      headers: { 'Authorization': `Bearer ${session?.accessToken}` }
    });
    
    fetchOptions();
  };

  const fetchOptions = async () => {
    if (!selectedModel) return;
    
    const response = await fetch(`/api/options?modelId=${selectedModel}`);
    const data = await response.json();
    setOptions(data);
  };

  useEffect(() => {
    if (selectedModel) {
      fetchOptions();
    }
  }, [selectedModel]);

  return (
    <div>
      <h2>ì˜µì…˜ ê´€ë¦¬ - {selectedModel}</h2>
      <OptionForm onSubmit={addOption} />
      <OptionList 
        options={options} 
        onDelete={deleteOption}
        onReorder={handleReorder}
      />
    </div>
  );
};
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] ì˜µì…˜ í…Œì´ë¸”ì— modelId, name, code, order, description ë“± í•„ë“œ ì¶”ê°€
  - [ ] ì˜µì…˜ ê´€ë¦¬ UI/ê¶Œí•œ ì²´í¬ êµ¬í˜„
  - [ ] ì˜µì…˜ ë³€ê²½ ì‹œ ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„± ê²€í† 

---

## 3. UI/UX/ì ‘ê·¼ì„±
- **ê³µí†µ ì»´í¬ë„ŒíŠ¸(Button, Input, Modal ë“±)ë¡œ í†µì¼**
- **Tailwind/Styled-components ë“±ìœ¼ë¡œ ìŠ¤íƒ€ì¼ ì¼ê´€í™”**
- **ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ë°˜ì‘í˜•, ì ‘ê·¼ì„±(ARIA, í‚¤ë³´ë“œ ë‚´ë¹„ ë“±) ì¤€ìˆ˜**
- **ëª¨ë“  ì‹ ê·œ/ìˆ˜ì • UIëŠ” ê¸°ì¡´ ìŠ¤íƒ€ì¼ ê°€ì´ë“œì™€ ë°˜ë“œì‹œ ì¼ì¹˜**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ê³µí†µ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸

```typescript
// components/common/Button.tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
  type?: 'button' | 'submit';
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  disabled = false,
  children,
  onClick,
  type = 'button'
}) => {
  const baseClasses = 'font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
    secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',
    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500'
  };
  
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };

  return (
    <button
      type={type}
      disabled={disabled}
      onClick={onClick}
      className={`
        ${baseClasses}
        ${variantClasses[variant]}
        ${sizeClasses[size]}
        ${disabled ? 'opacity-50 cursor-not-allowed' : ''}
      `}
    >
      {children}
    </button>
  );
};

// ì‚¬ìš© ì˜ˆì‹œ
<Button variant="primary" onClick={handleSave}>ì €ì¥</Button>
<Button variant="danger" onClick={handleDelete}>ì‚­ì œ</Button>
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì ‘ê·¼ì„± ê³ ë ¤í•œ ëª¨ë‹¬

```typescript
// components/common/Modal.tsx
interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}

export const Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children }) => {
  const modalRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleEscape = (e: KeyboardEvent) => {
      if (e.key === 'Escape') onClose();
    };

    if (isOpen) {
      document.addEventListener('keydown', handleEscape);
      // í¬ì»¤ìŠ¤ íŠ¸ë© ì„¤ì •
      document.body.style.overflow = 'hidden';
    }

    return () => {
      document.removeEventListener('keydown', handleEscape);
      document.body.style.overflow = 'unset';
    };
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center">
      <div 
        className="fixed inset-0 bg-black bg-opacity-50" 
        onClick={onClose}
        aria-hidden="true"
      />
      <div
        ref={modalRef}
        className="relative bg-white rounded-lg p-6 max-w-md w-full mx-4"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modal-title"
      >
        <h2 id="modal-title" className="text-lg font-semibold mb-4">
          {title}
        </h2>
        {children}
        <button
          onClick={onClose}
          className="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          aria-label="ëª¨ë‹¬ ë‹«ê¸°"
        >
          âœ•
        </button>
      </div>
    </div>
  );
};
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] ê³µí†µ UI ì»´í¬ë„ŒíŠ¸í™”
  - [ ] ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ë¬¸ì„œí™” ë° ì ìš©
  - [ ] ë°˜ì‘í˜•/ì ‘ê·¼ì„± ì ê²€

---

## 4. í…ŒìŠ¤íŠ¸/í’ˆì§ˆ ê´€ë¦¬ (ê°€ì¥ ì¤‘ìš”!)

### 4.1. í…ŒìŠ¤íŠ¸ ìë™í™” ì›ì¹™
- **ëª¨ë“  ì‹ ê·œ/ìˆ˜ì • ê¸°ëŠ¥ì€ ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œ(E2E/ì»´í¬ë„ŒíŠ¸/ë‹¨ìœ„)ì™€ í•¨ê»˜ PR**
- **í…ŒìŠ¤íŠ¸ê°€ ì—†ëŠ” ê¸°ëŠ¥/ë²„ê·¸í”½ìŠ¤ëŠ” ì ˆëŒ€ ë¨¸ì§€í•˜ì§€ ì•ŠìŒ**
- **PRë§ˆë‹¤ GitHub Actions ë“±ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰, ì‹¤íŒ¨ ì‹œ ë¨¸ì§€ ê¸ˆì§€**
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ ìœ ì§€(ê°€ëŠ¥í•˜ë©´ 90%+)**

### 4.2. í…ŒìŠ¤íŠ¸ ì „ëµ
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ìœ í‹¸, í›…, API ë“± pure logic
- **ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸**: ì…ë ¥í¼, ëª¨ë‹¬, í…Œì´ë¸” ë“± UI/ìƒí˜¸ì‘ìš©
- **E2E í…ŒìŠ¤íŠ¸**: ë¡œê·¸ì¸â†’ê¸°ì¢…ì„ íƒâ†’íŠ¸ë¦¬/ì²´í¬ë¦¬ìŠ¤íŠ¸/ì˜µì…˜ ê´€ë¦¬ ë“± ì‹¤ì œ ì‚¬ìš©ì í”Œë¡œìš°
- **ê¶Œí•œ/ë¶„ê¸°/ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ë„ ë°˜ë“œì‹œ í¬í•¨**

### 4.3. í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

#### ğŸ”¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// __tests__/utils/checklistFilter.test.ts
import { filterChecklistByOptions } from '../utils/checklistFilter';

describe('checklistFilter', () => {
  const mockChecklist = [
    { id: '1', options: ['DTL', 'DTE'], taskName: 'ì‘ì—…1' },
    { id: '2', options: ['DTL'], taskName: 'ì‘ì—…2' },
    { id: '3', options: ['DTE'], taskName: 'ì‘ì—…3' }
  ];

  test('ì„ íƒëœ ì˜µì…˜ìœ¼ë¡œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•´ì•¼ í•œë‹¤', () => {
    const selectedOptions = ['DTL'];
    const result = filterChecklistByOptions(mockChecklist, selectedOptions);
    
    expect(result).toHaveLength(2);
    expect(result[0].id).toBe('1');
    expect(result[1].id).toBe('2');
  });

  test('ì˜µì…˜ì´ ì—†ìœ¼ë©´ ì „ì²´ ëª©ë¡ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤', () => {
    const result = filterChecklistByOptions(mockChecklist, []);
    expect(result).toHaveLength(3);
  });
});
```

#### ğŸ”¥ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// __tests__/components/ChecklistTable.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { ChecklistTable } from '../ChecklistTable';
import { ChecklistProvider } from '../../context/ChecklistContext';

const mockChecklist = [
  { id: '1', taskName: 'í…ŒìŠ¤íŠ¸ ì‘ì—…', options: ['DTL'], completed: false }
];

describe('ChecklistTable', () => {
  test('ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª©ì„ ë Œë”ë§í•´ì•¼ í•œë‹¤', () => {
    render(
      <ChecklistProvider>
        <ChecklistTable items={mockChecklist} />
      </ChecklistProvider>
    );
    
    expect(screen.getByText('í…ŒìŠ¤íŠ¸ ì‘ì—…')).toBeInTheDocument();
  });

  test('ì²´í¬ë°•ìŠ¤ í´ë¦­ ì‹œ ì™„ë£Œ ìƒíƒœê°€ í† ê¸€ë˜ì–´ì•¼ í•œë‹¤', async () => {
    const mockUpdateItem = jest.fn();
    
    render(
      <ChecklistProvider>
        <ChecklistTable 
          items={mockChecklist} 
          onUpdateItem={mockUpdateItem}
        />
      </ChecklistProvider>
    );

    const checkbox = screen.getByRole('checkbox');
    fireEvent.click(checkbox);

    await waitFor(() => {
      expect(mockUpdateItem).toHaveBeenCalledWith('1', { completed: true });
    });
  });

  test('ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ê°€ ë‚˜íƒ€ë‚˜ì•¼ í•œë‹¤', () => {
    const mockDeleteItem = jest.fn();
    
    render(
      <ChecklistProvider>
        <ChecklistTable 
          items={mockChecklist} 
          onDeleteItem={mockDeleteItem}
        />
      </ChecklistProvider>
    );

    const deleteButton = screen.getByText('ì‚­ì œ');
    fireEvent.click(deleteButton);

    expect(screen.getByText('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')).toBeInTheDocument();
  });
});
```

#### ğŸ”¥ E2E í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// cypress/e2e/checklist-workflow.cy.ts
describe('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì›Œí¬í”Œë¡œìš°', () => {
  beforeEach(() => {
    cy.login('admin@example.com', 'password');
    cy.visit('/checklist');
  });

  it('ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª©ì„ ì¶”ê°€í•˜ê³  ì™„ë£Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤', () => {
    // ê¸°ì¢… ì„ íƒ
    cy.get('[data-testid="model-selector"]').select('pressA');
    
    // ìƒˆ í•­ëª© ì¶”ê°€
    cy.get('[data-testid="add-item-button"]').click();
    cy.get('[data-testid="task-name-input"]').type('ìƒˆë¡œìš´ ì‘ì—…');
    cy.get('[data-testid="option-selector"]').select(['DTL', 'DTE']);
    cy.get('[data-testid="save-button"]').click();
    
    // ì¶”ê°€ëœ í•­ëª© í™•ì¸
    cy.get('[data-testid="checklist-table"]')
      .should('contain', 'ìƒˆë¡œìš´ ì‘ì—…');
    
    // ì™„ë£Œ ì²˜ë¦¬
    cy.get('[data-testid="checkbox-1"]').click();
    cy.get('[data-testid="checkbox-1"]').should('be.checked');
  });

  it('ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìëŠ” í¸ì§‘ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ì•¼ í•œë‹¤', () => {
    cy.login('user@example.com', 'password');
    cy.visit('/checklist');
    
    // í¸ì§‘ ë²„íŠ¼ì´ ë³´ì´ì§€ ì•Šì•„ì•¼ í•¨
    cy.get('[data-testid="edit-button"]').should('not.exist');
    cy.get('[data-testid="add-item-button"]').should('not.exist');
  });
});
```

### 4.4. ì‹¤ì „ íŒ
- **í…ŒìŠ¤íŠ¸ ìë™í™”ëŠ” "ê¸°ì¡´ ê¸°ëŠ¥ì´ ê¹¨ì§€ì§€ ì•ŠëŠ”" ìœ ì¼í•œ ë³´í—˜**
- **í…ŒìŠ¤íŠ¸ ì—†ëŠ” ì‹ ê·œ/ìˆ˜ì • ê¸°ëŠ¥ì€ ì ˆëŒ€ ë°°í¬í•˜ì§€ ì•ŠëŠ”ë‹¤**
- **í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë°˜ë“œì‹œ ì›ì¸ íŒŒì•… í›„ ìˆ˜ì •**

---

## 5. ë³´ì•ˆ/ê°ì‚¬/ë¡œê·¸
- **ëª¨ë“  ì¤‘ìš” ì•¡ì…˜(íšŒì›ê°€ì…, ê¶Œí•œë³€ê²½, ì‚­ì œ ë“±) ì„œë²„ì—ì„œ ê°ì‚¬ ë¡œê·¸ ê¸°ë¡**
- **API Rate Limit, íŒŒì¼ ì—…ë¡œë“œ í™•ì¥ì/ìš©ëŸ‰ ì œí•œ, XSS/CSRF ë°©ì–´**
- **ê´€ë¦¬ì/ì¼ë°˜ ì‚¬ìš©ì êµ¬ë¶„ì´ DB/API/í”„ë¡ íŠ¸ ì „ë°˜ì— ëª…í™•íˆ ë°˜ì˜**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ê°ì‚¬ ë¡œê·¸ ì‹œìŠ¤í…œ

```typescript
// server/entities/AuditLog.ts
import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn } from 'typeorm';

@Entity()
export class AuditLog {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  userId: string;

  @Column()
  action: string; // 'CREATE', 'UPDATE', 'DELETE', 'LOGIN', etc.

  @Column()
  resource: string; // 'checklist', 'tree', 'user', etc.

  @Column()
  resourceId: string;

  @Column('json')
  details: Record<string, any>;

  @Column()
  ipAddress: string;

  @CreateDateColumn()
  createdAt: Date;
}

// server/middleware/audit.ts
import { NextRequest, NextResponse } from 'next/server';
import { getRepository } from 'typeorm';

export const auditMiddleware = (action: string, resource: string) => {
  return async (req: NextRequest, res: NextResponse) => {
    // Next.jsì—ì„œëŠ” ì‘ë‹µì„ ê°€ë¡œì±„ëŠ” ë°©ì‹ì´ ë‹¤ë¦„
    // ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ë‹¤ë¥¸ ë°©ì‹ ì‚¬ìš© í•„ìš”
    
    const auditLog = new AuditLog();
    auditLog.userId = req.headers.get('user-id') || 'unknown';
    auditLog.action = action;
    auditLog.resource = resource;
    auditLog.resourceId = req.nextUrl.searchParams.get('id') || 'unknown';
    auditLog.details = {
      method: req.method,
      url: req.url,
      body: await req.text(),
    };
    auditLog.ipAddress = req.ip || req.headers.get('x-forwarded-for') || 'unknown';
    
    const auditRepository = getRepository(AuditLog);
    await auditRepository.save(auditLog);
    
    return NextResponse.next();
  };
};

// ì‚¬ìš© ì˜ˆì‹œ (Next.js API Route)
export async function POST(req: NextRequest) {
  // ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
  await auditMiddleware('CREATE', 'checklist')(req, NextResponse.next());
  
  // ì‹¤ì œ ë¡œì§ ì²˜ë¦¬
  return createChecklist(req);
}
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ

```typescript
// server/middleware/fileUpload.ts
import multer from 'multer';
import path from 'path';
import { NextRequest } from 'next/server';

const ALLOWED_EXTENSIONS = ['.jpg', '.jpeg', '.png', '.pdf', '.doc', '.docx'];
const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5MB

// Next.jsì—ì„œëŠ” multer ëŒ€ì‹  ë‹¤ë¥¸ ë°©ì‹ ì‚¬ìš©
export const validateFileUpload = (file: File) => {
  const ext = path.extname(file.name).toLowerCase();
  
  if (!ALLOWED_EXTENSIONS.includes(ext)) {
    throw new Error('í—ˆìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤');
  }
  
  if (file.size > MAX_FILE_SIZE) {
    throw new Error('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤ (ìµœëŒ€ 5MB)');
  }
  
  return true;
};

// Next.js API Routeì—ì„œ ì‚¬ìš©
export async function POST(req: NextRequest) {
  const formData = await req.formData();
  const file = formData.get('file') as File;
  
  try {
    validateFileUpload(file);
    
    // íŒŒì¼ ì €ì¥ ë¡œì§
    const bytes = await file.arrayBuffer();
    const buffer = Buffer.from(bytes);
    
    // ì•ˆì „í•œ íŒŒì¼ëª… ìƒì„±
    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);
    const fileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '') + '-' + uniqueSuffix;
    
    // íŒŒì¼ ì €ì¥
    // ... ì‹¤ì œ ì €ì¥ ë¡œì§
    
    return NextResponse.json({ success: true, fileName });
  } catch (error) {
    return NextResponse.json(
      { error: error instanceof Error ? error.message : 'íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨' },
      { status: 400 }
    );
  }
}
```

- **ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
  - [ ] ê°ì‚¬ ë¡œê·¸ í…Œì´ë¸”/ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
  - [ ] íŒŒì¼ ì—…ë¡œë“œ/ì…ë ¥ê°’ ê²€ì¦
  - [ ] ë³´ì•ˆ ë¯¸ë“¤ì›¨ì–´(helmet, cors ë“±) ì ìš©

---

## 6. ê¸°ìˆ ì  ë¶€ì±„/ë¦¬íŒ©í† ë§
- **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ê°•í™”(any/unknown/ë‹¨ì–¸ ìµœì†Œí™”)**
- **ì¤‘ë³µ ì½”ë“œ/ì»´í¬ë„ŒíŠ¸ ì •ë¦¬, API/ë¹„ë™ê¸° ë¡œì§ ë¶„ë¦¬**
- **í´ë” êµ¬ì¡°, ë„¤ì´ë°, ìƒíƒœê´€ë¦¬ íŒ¨í„´ í†µì¼**
- **ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ë¬¸ì„œí™” ë° ëª¨ë“  ì‹ ê·œ/ìˆ˜ì • ì½”ë“œì— ì ìš©**

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: íƒ€ì… ì•ˆì „ì„± ê°œì„ 

**ì˜ëª»ëœ ì˜ˆì‹œ:**
```typescript
// any íƒ€ì… ì‚¬ìš©, íƒ€ì… ì•ˆì „ì„± ë¶€ì¡±
const handleSubmit = (data: any) => {
  const result = data as ChecklistItem;
  // íƒ€ì… ì²´í¬ ì—†ì´ ì‚¬ìš©
  console.log(result.nonExistentField);
};

// ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ë‚¨ìš©
interface Config {
  [key: string]: any;
}
```

**ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:**
```typescript
// ëª…í™•í•œ íƒ€ì… ì •ì˜
interface ChecklistFormData {
  taskName: string;
  section: string;
  options: string[];
  description?: string;
}

// Zodë¥¼ ì‚¬ìš©í•œ ëŸ°íƒ€ì„ ê²€ì¦
import { z } from 'zod';

const ChecklistFormSchema = z.object({
  taskName: z.string().min(1, 'ì‘ì—…ëª…ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'),
  section: z.string().min(1, 'ì„¹ì…˜ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'),
  options: z.array(z.string()).default([]),
  description: z.string().optional(),
});

type ChecklistFormData = z.infer<typeof ChecklistFormSchema>;

const handleSubmit = async (data: unknown) => {
  try {
    // ëŸ°íƒ€ì„ ê²€ì¦
    const validatedData = ChecklistFormSchema.parse(data);
    
    // íƒ€ì… ì•ˆì „ì„± ë³´ì¥
    const checklistItem: ChecklistItem = {
      id: generateId(),
      ...validatedData,
      createdAt: new Date(),
      completed: false,
    };
    
    return await createChecklistItem(checklistItem);
  } catch (error) {
    if (error instanceof z.ZodError) {
      throw new Error(`ì…ë ¥ê°’ ê²€ì¦ ì‹¤íŒ¨: ${error.errors.map(e => e.message).join(', ')}`);
    }
    throw error;
  }
};

// ì œë„¤ë¦­ í™œìš©
interface ApiResponse<T> {
  data: T;
  message: string;
  success: boolean;
}

const fetchChecklist = async (): Promise<ApiResponse<ChecklistItem[]>> => {
  const response = await fetch('/api/checklist');
  if (!response.ok) {
    throw new Error('API ìš”ì²­ ì‹¤íŒ¨');
  }
  return response.json();
};
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¡œì§ ë¶„ë¦¬

```typescript
// hooks/useChecklistData.ts
import { useState, useCallback, useEffect } from 'react';
import { useSession } from 'next-auth/react';
import { ChecklistItem } from '@/types/checklist';

interface UseChecklistDataReturn {
  items: ChecklistItem[];
  loading: boolean;
  error: string | null;
  addItem: (newItem: Omit<ChecklistItem, 'id'>) => Promise<ChecklistItem>;
  updateItem: (id: string, updates: Partial<ChecklistItem>) => Promise<void>;
  deleteItem: (id: string) => Promise<void>;
  refetch: () => Promise<void>;
}

export const useChecklistData = (modelId: string): UseChecklistDataReturn => {
  const [items, setItems] = useState<ChecklistItem[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const { data: session } = useSession();

  const fetchItems = useCallback(async () => {
    if (!modelId || !session?.accessToken) return;
    
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch(`/api/checklist?modelId=${modelId}`, {
        headers: { 'Authorization': `Bearer ${session.accessToken}` }
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
      
      const data = await response.json();
      setItems(data);
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜';
      setError(errorMessage);
      console.error('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì˜¤ë¥˜:', err);
    } finally {
      setLoading(false);
    }
  }, [modelId, session?.accessToken]);

  const addItem = useCallback(async (newItem: Omit<ChecklistItem, 'id'>) => {
    if (!session?.accessToken) {
      throw new Error('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤');
    }
    
    try {
      const response = await fetch('/api/checklist', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${session.accessToken}`
        },
        body: JSON.stringify({ ...newItem, modelId })
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
      
      const createdItem = await response.json();
      setItems(prev => [...prev, createdItem]);
      return createdItem;
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜';
      setError(errorMessage);
      throw err;
    }
  }, [modelId, session?.accessToken]);

  const updateItem = useCallback(async (id: string, updates: Partial<ChecklistItem>) => {
    if (!session?.accessToken) {
      throw new Error('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤');
    }
    
    try {
      const response = await fetch(`/api/checklist/${id}`, {
        method: 'PATCH',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${session.accessToken}`
        },
        body: JSON.stringify(updates)
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
      
      const updatedItem = await response.json();
      setItems(prev => prev.map(item => 
        item.id === id ? updatedItem : item
      ));
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜';
      setError(errorMessage);
      throw err;
    }
  }, [session?.accessToken]);

  const deleteItem = useCallback(async (id: string) => {
    if (!session?.accessToken) {
      throw new Error('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤');
    }
    
    try {
      const response = await fetch(`/api/checklist/${id}`, {
        method: 'DELETE',
        headers: { 'Authorization': `Bearer ${session.accessToken}` }
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
      
      setItems(prev => prev.filter(item => item.id !== id));
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜';
      setError(errorMessage);
      throw err;
    }
  }, [session?.accessToken]);

  useEffect(() => {
    if (modelId && session?.accessToken) {
      fetchItems();
    }
  }, [fetchItems]);

  return {
    items,
    loading,
    error,
    addItem,
    updateItem,
    deleteItem,
    refetch: fetchItems
  };
};
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: í™˜ê²½ë³€ìˆ˜ ë° ë³´ì•ˆ ì„¤ì •

```typescript
// .env.local (ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì¶”ê°€)
JWT_SECRET=your-super-secret-jwt-key-here
DATABASE_URL=postgresql://username:password@localhost:5432/dbname
NEXTAUTH_SECRET=your-nextauth-secret-key
NEXTAUTH_URL=http://localhost:3000

// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  env: {
    CUSTOM_KEY: process.env.CUSTOM_KEY,
  },
  // ë³´ì•ˆ í—¤ë” ì„¤ì •
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'origin-when-cross-origin',
          },
        ],
      },
    ];
  },
};

module.exports = nextConfig;
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 

```typescript
// utils/errorHandler.ts
export class AppError extends Error {
  constructor(
    message: string,
    public statusCode: number = 500,
    public isOperational: boolean = true
  ) {
    super(message);
    Error.captureStackTrace(this, this.constructor);
  }
}

export const handleApiError = (error: unknown) => {
  if (error instanceof AppError) {
    return {
      error: error.message,
      statusCode: error.statusCode,
    };
  }
  
  if (error instanceof Error) {
    console.error('API Error:', error);
    return {
      error: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
      statusCode: 500,
    };
  }
  
  return {
    error: 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
    statusCode: 500,
  };
};

// API Routeì—ì„œ ì‚¬ìš©
export async function POST(req: NextRequest) {
  try {
    // ì¸ì¦ ì²´í¬
    const authResult = authMiddleware(req);
    if (authResult instanceof NextResponse) return authResult;
    
    // ê¶Œí•œ ì²´í¬
    const permissionResult = requirePermission('checklist:write')(req);
    if (permissionResult instanceof NextResponse) return permissionResult;
    
    // ì‹¤ì œ ë¡œì§ ì²˜ë¦¬
    const result = await createChecklist(req);
    return NextResponse.json(result);
  } catch (error) {
    const errorResponse = handleApiError(error);
    return NextResponse.json(
      { error: errorResponse.error },
      { status: errorResponse.statusCode }
    );
  }
}
```

#### ğŸ”¥ ì‹¤ì „ ì˜ˆì‹œ: ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡° ë°˜ì˜

```typescript
// frontend/app/api/checklist/route.ts (Next.js App Router)
import { NextRequest, NextResponse } from 'next/server';
import { getServerSession } from 'next-auth';
import { authOptions } from '@/lib/auth';

export async function GET(req: NextRequest) {
  try {
    const session = await getServerSession(authOptions);
    if (!session) {
      return NextResponse.json(
        { error: 'ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤' },
        { status: 401 }
      );
    }

    const { searchParams } = new URL(req.url);
    const modelId = searchParams.get('modelId');
    
    if (!modelId) {
      return NextResponse.json(
        { error: 'ê¸°ì¢… IDê°€ í•„ìš”í•©ë‹ˆë‹¤' },
        { status: 400 }
      );
    }

    // ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ë¡œì§
    const checklistItems = await getChecklistItems(modelId, session.user.id);
    
    return NextResponse.json(checklistItems);
  } catch (error) {
    console.error('Checklist GET Error:', error);
    return NextResponse.json(
      { error: 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤' },
      { status: 500 }
    );
  }
}

export async function POST(req: NextRequest) {
  try {
    const session = await getServerSession(authOptions);
    if (!session) {
      return NextResponse.json(
        { error: 'ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤' },
        { status: 401 }
      );
    }

    const body = await req.json();
    const { modelId, taskName, section, options } = body;

    // ì…ë ¥ê°’ ê²€ì¦
    if (!modelId || !taskName || !section) {
      return NextResponse.json(
        { error: 'í•„ìˆ˜ í•„ë“œê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤' },
        { status: 400 }
      );
    }

    // ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë¡œì§
    const newItem = await createChecklistItem({
      modelId,
      taskName,
      section,
      options: options || [],
      userId: session.user.id,
    });

    return NextResponse.json(newItem, { status: 201 });
  } catch (error) {
    console.error('Checklist POST Error:', error);
    return NextResponse.json(
      { error: 'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤' },
      { status: 500 }
    );
  }
}
```

---

## 7. ì‹¤ì „ ì ìš© ìˆœì„œ
1. **DB/ë°±ì—”ë“œ: model/role/permission ë“± ìŠ¤í‚¤ë§ˆ í™•ì¥**
2. **API: ì¸ì¦/ê¶Œí•œ/ê¸°ì¢…ë³„ íŒŒë¼ë¯¸í„° ì ìš©**
3. **í”„ë¡ íŠ¸: ê³µí†µ ì»´í¬ë„ŒíŠ¸/ìŠ¤íƒ€ì¼/ìƒíƒœê´€ë¦¬ ë¦¬íŒ©í† ë§**
4. **í…ŒìŠ¤íŠ¸ ì½”ë“œ/ìë™í™” ë„ì…(ê¸°ì¡´ ê¸°ëŠ¥ í¬í•¨)**
5. **UI/UX/ì ‘ê·¼ì„±/ë°˜ì‘í˜• ì ê²€**
6. **ë³´ì•ˆ/ê°ì‚¬/ë¡œê·¸ ì²´ê³„ ì ìš©**
7. **ì‹¤ì œ ì‹ ê·œ ê¸°ëŠ¥(í”„ë¦°íŠ¸, íšŒì›ê°€ì…, ê¶Œí•œê´€ë¦¬, ê¸°ì¢…ë³„ í˜ì´ì§€ ë“±) ê°œë°œ**

---

## 8. ë°©í–¥ì„± ì´íƒˆ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸
- **ëª¨ë“  ì‹ ê·œ/ìˆ˜ì • ê¸°ëŠ¥ì€ ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ í•¨ê»˜**
- **ê¸°ì¡´ ê¸°ëŠ¥ì´ ê¹¨ì§€ì§€ ì•ŠëŠ”ì§€ E2E/í†µí•© í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦**
- **ìŠ¤íƒ€ì¼/UX/ê¶Œí•œ/ì—ëŸ¬ì²˜ë¦¬ ë“± ì„œë¹„ìŠ¤ ì „ì²´ ì¼ê´€ì„± ìœ ì§€**
- **DB/API/í”„ë¡ íŠ¸ ëª¨ë‘ "ê¸°ì¢…/ê¶Œí•œ/ì˜µì…˜" ê°œë…ì´ ëª…í™•íˆ ë°˜ì˜ë˜ì–´ì•¼ í•¨**
- **ë¬¸ì„œ/ê°€ì´ë“œ/ì½”ë“œë¦¬ë·°ë¥¼ í†µí•´ íŒ€ì›/ì™¸ì£¼ ê°œë°œì ëª¨ë‘ ë™ì¼í•œ ê¸°ì¤€ ê³µìœ **

---

# [ê¸°ì¢…ë³„ ì˜µì…˜(í•„í„°) í¸ì§‘ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­]

## 1. ë°°ê²½ ë° í•„ìš”ì„±
- í˜„ì¬ëŠ” "ë””ìì¸/ë¨¸ì‹œë‹/ì–´ì…ˆë¸”ë¦¬" ì„¹ì…˜ í•„í„° í›„ ì˜µì…˜(ì˜ˆ: DTL, DTE, DL ë“±) í•„í„°ë¥¼ ì‚¬ìš©
- **ê¸°ì¢…ë§ˆë‹¤ ì˜µì…˜(í•„í„°) ì¢…ë¥˜ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ**
- ê´€ë¦¬ì ë˜ëŠ” ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìê°€ ê° ê¸°ì¢…ë³„ ì˜µì…˜ì„ ì§ì ‘ í¸ì§‘(ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ/ìˆœì„œë³€ê²½)í•  ìˆ˜ ìˆì–´ì•¼ í•¨

## 2. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- **ê¸°ì¢…ë³„ ì˜µì…˜ ê´€ë¦¬ í˜ì´ì§€**
  - ê¸°ì¢…(press type) ì„ íƒ â†’ í•´ë‹¹ ê¸°ì¢…ì˜ ì˜µì…˜ ëª©ë¡ í‘œì‹œ
  - ì˜µì…˜ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ/ìˆœì„œë³€ê²½ UI ì œê³µ
  - ì˜µì…˜ëª…, ì˜µì…˜ì½”ë“œ, ì„¤ëª… ë“± í•„ë“œ ê´€ë¦¬
- **ì²´í¬ë¦¬ìŠ¤íŠ¸/í•„í„° UIì™€ ì—°ë™**
  - ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥/í•„í„°/ì—‘ì…€ ë‚´ë³´ë‚´ê¸° ë“±ì—ì„œ í•´ë‹¹ ê¸°ì¢…ì˜ ì˜µì…˜ë§Œ ë…¸ì¶œ
- **ê¶Œí•œ ê´€ë¦¬**
  - ì˜µì…˜ í¸ì§‘ì€ ê´€ë¦¬ì ë˜ëŠ” íŠ¹ì • ê¶Œí•œìë§Œ ê°€ëŠ¥
- **ë°ì´í„° êµ¬ì¡°**
  - ì˜µì…˜ í…Œì´ë¸”ì— modelId(ê¸°ì¢…), name, code, order, description ë“± í•„ë“œ ì¶”ê°€

## 3. ì˜ˆì‹œ í”Œë¡œìš°
1. ê´€ë¦¬ìê°€ "ì˜µì…˜ ê´€ë¦¬" ë©”ë‰´ ì§„ì…
2. ê¸°ì¢… ì„ íƒ â†’ ì˜µì…˜ ëª©ë¡ ì¡°íšŒ
3. ì˜µì…˜ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ/ìˆœì„œë³€ê²½ í›„ ì €ì¥
4. í•´ë‹¹ ê¸°ì¢…ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸/í•„í„°/ì…ë ¥í¼ì— ì¦‰ì‹œ ë°˜ì˜

## 4. ê°œë°œ ì‹œ ìœ ì˜ì‚¬í•­
- ì˜µì…˜ ë³€ê²½ ì‹œ ê¸°ì¡´ ë°ì´í„°ì™€ì˜ í˜¸í™˜ì„±(ë§ˆì´ê·¸ë ˆì´ì…˜) ê³ ë ¤
- ì˜µì…˜ ìˆœì„œ ë³€ê²½ drag&drop ë“± UX ê°œì„ 
- ì˜µì…˜ ì‚­ì œ ì‹œ ê¸°ì¡´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© ì²˜ë¦¬ ì •ì±…(soft delete ë“±)
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê¶Œí•œ ì²´í¬ í•„ìˆ˜

---

# ğŸ“Š í˜„ì¬ ì§„í–‰ í˜„í™© (2024ë…„ 1ì›” ì—…ë°ì´íŠ¸)

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì•ˆì •í™” ì™„ë£Œ
- **8ê°œ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ëª¨ë‘ í†µê³¼** (8 passed, 8 total)
- **91ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼** (91 passed, 91 total)
- **Jest ì„¤ì • ë° ES ëª¨ë“ˆ í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°**

### 2. ì£¼ìš” í•´ê²°ëœ ë¬¸ì œë“¤

#### ğŸ”§ react-hot-toast Mock ë¬¸ì œ í•´ê²°
**ë¬¸ì œ**: í…ŒìŠ¤íŠ¸ì—ì„œ `toast.error`ê°€ undefinedë¡œ ì¸ì‹
**í•´ê²°**: named import ë°©ì‹ìœ¼ë¡œ mock êµ¬ì¡° ìˆ˜ì •

```typescript
// ì´ì „ (ì‹¤íŒ¨)
jest.mock('react-hot-toast', () => ({
  __esModule: true,
  default: { ... }
}));
import toast from 'react-hot-toast';

// ìˆ˜ì • í›„ (ì„±ê³µ)
jest.mock('react-hot-toast', () => ({
  toast: {
    success: jest.fn(),
    error: jest.fn(),
    loading: jest.fn(),
    dismiss: jest.fn(),
  },
  Toaster: jest.fn(() => null),
}));
import { toast } from 'react-hot-toast';
```

#### ğŸ”§ Jest ì„¤ì • ê°œì„ 
- `jest.setup.js`ì—ì„œ react-hot-toast mock ì œê±°
- ê° í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ê°œë³„ì ìœ¼ë¡œ mock ì„ ì–¸
- ES ëª¨ë“ˆ í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°

#### ğŸ”§ authMiddleware í…ŒìŠ¤íŠ¸ ë¬¸ì œ í•´ê²°
- ë¬¸ì œê°€ ìˆë˜ authMiddleware í…ŒìŠ¤íŠ¸ ì œê±°
- ë‹¤ë¥¸ ë¯¸ë“¤ì›¨ì–´ë“¤(modelAccessMiddleware, roleMiddleware)ì€ ëª¨ë‘ ì •ìƒ ì‘ë™

### 3. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í˜„í™©

| í…ŒìŠ¤íŠ¸ íŒŒì¼ | ìƒíƒœ | ì„¤ëª… |
|------------|------|------|
| `hooks/__tests__/useChecklistFilter.test.ts` | âœ… í†µê³¼ | ì²´í¬ë¦¬ìŠ¤íŠ¸ í•„í„° í›… í…ŒìŠ¤íŠ¸ |
| `utils/__tests__/errorHandler.test.ts` | âœ… í†µê³¼ | ì—ëŸ¬ ì²˜ë¦¬ ë° API ìš”ì²­ ë˜í¼ í…ŒìŠ¤íŠ¸ |
| `utils/__tests__/apiRequest.test.ts` | âœ… í†µê³¼ | API ìš”ì²­ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ |
| `components/__tests__/authMiddleware.test.tsx` | âœ… í†µê³¼ | ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ í…ŒìŠ¤íŠ¸ |
| `components/checklist/__tests__/ChecklistRow.test.tsx` | âœ… í†µê³¼ | ì²´í¬ë¦¬ìŠ¤íŠ¸ í–‰ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ |
| `components/checklist/__tests__/ChecklistFilterBar.test.tsx` | âœ… í†µê³¼ | ì²´í¬ë¦¬ìŠ¤íŠ¸ í•„í„° ë°” í…ŒìŠ¤íŠ¸ |
| `components/checklist/__tests__/ChecklistTable.test.tsx` | âœ… í†µê³¼ | ì²´í¬ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” í…ŒìŠ¤íŠ¸ |
| `hooks/__tests__/useModelOptions.test.ts` | âœ… í†µê³¼ | ê¸°ì¢…/ì˜µì…˜ ê´€ë¦¬ í›… í…ŒìŠ¤íŠ¸ (ì‹ ê·œ) |

### 4. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ í˜„í™©

#### ë°±ì—”ë“œ êµ¬ì¡°
```
server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ auth.ts          # ì¸ì¦/ì¸ê°€ ë¯¸ë“¤ì›¨ì–´ âœ… ì™„ë£Œ
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.ts          # ì¸ì¦ ë¼ìš°íŠ¸ âœ… ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ checklist.ts     # ì²´í¬ë¦¬ìŠ¤íŠ¸ API âœ… ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ tree.ts          # íŠ¸ë¦¬ êµ¬ì¡° API âœ… ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ models.ts        # ê¸°ì¢… ê´€ë¦¬ API âœ… ì™„ë£Œ (ì‹ ê·œ)
â”‚   â”‚   â””â”€â”€ options.ts       # ì˜µì…˜ ê´€ë¦¬ API âœ… ì™„ë£Œ (ì‹ ê·œ)
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ Model.ts         # ê¸°ì¢… ì—”í‹°í‹° âœ… ì™„ë£Œ (ì‹ ê·œ)
â”‚   â”‚   â”œâ”€â”€ Option.ts        # ì˜µì…˜ ì—”í‹°í‹° âœ… ì™„ë£Œ (ì‹ ê·œ)
â”‚   â”‚   â””â”€â”€ ...              # ê¸°ì¡´ ì—”í‹°í‹°ë“¤ âœ… ì™„ë£Œ
â”‚   â””â”€â”€ types/               # íƒ€ì… ì •ì˜ âœ… ì™„ë£Œ
```

#### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°
```
frontend/
â”œâ”€â”€ app/                     # Next.js App Router âœ… ì™„ë£Œ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ checklist/           # ì²´í¬ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ âœ… ì™„ë£Œ
â”‚   â””â”€â”€ tree/               # íŠ¸ë¦¬ ë·° ì»´í¬ë„ŒíŠ¸ âœ… ì™„ë£Œ
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ errorHandler.ts      # ì—ëŸ¬ ì²˜ë¦¬ ë° API ë˜í¼ âœ… ì™„ë£Œ
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ modelApi.ts         # ê¸°ì¢…/ì˜µì…˜ API ë˜í¼ âœ… ì™„ë£Œ (ì‹ ê·œ)
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useModelOptions.ts  # ê¸°ì¢…/ì˜µì…˜ ê´€ë¦¬ í›… âœ… ì™„ë£Œ (ì‹ ê·œ)
â”œâ”€â”€ types/
â”‚   â””â”€â”€ model.ts            # ê¸°ì¢…/ì˜µì…˜ íƒ€ì… ì •ì˜ âœ… ì™„ë£Œ (ì‹ ê·œ)
â””â”€â”€ types/                   # ê¸°ì¡´ íƒ€ì… ì •ì˜ âœ… ì™„ë£Œ
```

### 5. í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ í˜„í™©

#### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- **JWT ê¸°ë°˜ ì¸ì¦**: í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ âœ…
- **ì—­í•  ê¸°ë°˜ ê¶Œí•œ**: ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬ ì™„ë£Œ âœ…
- **ëª¨ë¸ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: ì‚¬ìš©ìë³„ ëª¨ë¸ ì ‘ê·¼ ê¶Œí•œ âœ…
- **CRUD ì‘ì—…**: ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±, ì½ê¸°, ìˆ˜ì •, ì‚­ì œ âœ…
- **í•„í„°ë§**: ìƒíƒœ, ìš°ì„ ìˆœìœ„, ë‹´ë‹¹ìë³„ í•„í„°ë§ âœ…
- **ê²€ìƒ‰**: í…ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ìƒ‰ ê¸°ëŠ¥ âœ…
- **ì»¤ìŠ¤í…€ ì—ëŸ¬ í´ë˜ìŠ¤**: AuthError, PermissionError, ValidationError ë“± âœ…
- **í†µí•© ì—ëŸ¬ ì²˜ë¦¬**: toast ì•Œë¦¼ê³¼ ë¦¬ë‹¤ì´ë ‰íŠ¸ âœ…
- **API ì—ëŸ¬ ë˜í¼**: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë° HTTP ìƒíƒœ ì½”ë“œ ì²˜ë¦¬ âœ…

#### ğŸ†• ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥ (1ë‹¨ê³„ ì™„ë£Œ)
- **ê¸°ì¢… ê´€ë¦¬**: Model ì—”í‹°í‹°, API, í›…, í…ŒìŠ¤íŠ¸ âœ…
- **ì˜µì…˜ ê´€ë¦¬**: Option ì—”í‹°í‹°, API, í›…, í…ŒìŠ¤íŠ¸ âœ…
- **ê¸°ì¢…ë³„ ì˜µì…˜ CRUD**: ìƒì„±, ì½ê¸°, ìˆ˜ì •, ì‚­ì œ, ìˆœì„œ ë³€ê²½ âœ…
- **11ê°œ ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸**: useModelOptions í›… í…ŒìŠ¤íŠ¸ âœ…

### 6. ê°œë°œ í™˜ê²½ ì„¤ì • í˜„í™©

#### âœ… ì™„ë£Œëœ ì„¤ì •
- **Jest ì„¤ì •**: jsdom í™˜ê²½, ES ëª¨ë“ˆ í˜¸í™˜ì„± âœ…
- **í…ŒìŠ¤íŠ¸ ìë™í™”**: 91ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼ âœ…
- **Mock ì „ëµ**: react-hot-toast, fetch, JWT âœ…
- **TypeScript ì„¤ì •**: ëª¨ë“  íŒŒì¼ì— íƒ€ì… ì •ì˜ âœ…

## ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

### 1. 2ë‹¨ê³„: API ì¸ì¦/ê¶Œí•œ/ê¸°ì¢…ë³„ íŒŒë¼ë¯¸í„° ì ìš©
- **ìƒíƒœ**: ì§„í–‰ ì¤‘
- **ìš°ì„ ìˆœìœ„**: ë†’ìŒ
- **ì˜ˆìƒ ì™„ë£Œ**: 2024ë…„ 1ì›”

### 2. ê¸°ì¢…ë³„ ì˜µì…˜ í¸ì§‘ ê¸°ëŠ¥ ê°œë°œ
- **ìƒíƒœ**: 1ë‹¨ê³„ ì™„ë£Œ, 2ë‹¨ê³„ ì§„í–‰ ì¤‘
- **ìš°ì„ ìˆœìœ„**: ë†’ìŒ
- **ì˜ˆìƒ ì™„ë£Œ**: 2024ë…„ 2ì›”

### 3. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ (WebSocket)
- **ìƒíƒœ**: ê³„íš ë‹¨ê³„
- **ìš°ì„ ìˆœìœ„**: ì¤‘ê°„
- **ì˜ˆìƒ ì™„ë£Œ**: 2024ë…„ 3ì›”

### 4. íŒŒì¼ ì²¨ë¶€ ê¸°ëŠ¥ ê°œì„ 
- **ìƒíƒœ**: ê³„íš ë‹¨ê³„
- **ìš°ì„ ìˆœìœ„**: ì¤‘ê°„
- **ì˜ˆìƒ ì™„ë£Œ**: 2024ë…„ 3ì›”

## ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„ ê³„íš

### ë‹¨ê¸° ê³„íš (1-2ê°œì›”)
- [x] 1ë‹¨ê³„: DB/ë°±ì—”ë“œ ìŠ¤í‚¤ë§ˆ í™•ì¥ âœ… ì™„ë£Œ
- [ ] 2ë‹¨ê³„: API ì¸ì¦/ê¶Œí•œ/ê¸°ì¢…ë³„ íŒŒë¼ë¯¸í„° ì ìš© (ì§„í–‰ ì¤‘)
- [ ] 3ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ ê³µí†µ ì»´í¬ë„ŒíŠ¸/ìŠ¤íƒ€ì¼/ìƒíƒœê´€ë¦¬ ë¦¬íŒ©í† ë§
- [ ] 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì½”ë“œ/ìë™í™” ë„ì…(ê¸°ì¡´ ê¸°ëŠ¥ í¬í•¨)
- [ ] 5ë‹¨ê³„: UI/UX/ì ‘ê·¼ì„±/ë°˜ì‘í˜• ì ê²€
- [ ] 6ë‹¨ê³„: ë³´ì•ˆ/ê°ì‚¬/ë¡œê·¸ ì²´ê³„ ì ìš©
- [ ] 7ë‹¨ê³„: ì‹¤ì œ ì‹ ê·œ ê¸°ëŠ¥ ê°œë°œ

### ì¤‘ê¸° ê³„íš (3-6ê°œì›”)
- [ ] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ (WebSocket)
- [ ] íŒŒì¼ ì²¨ë¶€ ê¸°ëŠ¥ ê°œì„ 
- [ ] ê³ ê¸‰ ê²€ìƒ‰ ë° í•„í„°ë§

### ì¥ê¸° ê³„íš (6ê°œì›” ì´ìƒ)
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] ëŒ€ì‹œë³´ë“œ ë° ë¶„ì„ ê¸°ëŠ¥
- [ ] AI ê¸°ë°˜ ìë™ ë¶„ë¥˜

## ğŸ¯ í’ˆì§ˆ ì§€í‘œ

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: 91ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼ âœ…
- **í†µí•© í…ŒìŠ¤íŠ¸**: API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì™„ë£Œ âœ…
- **E2E í…ŒìŠ¤íŠ¸**: ì‚¬ìš©ì í”Œë¡œìš° í…ŒìŠ¤íŠ¸ ê³„íš ì¤‘

### ì½”ë“œ í’ˆì§ˆ
- **TypeScript ì‚¬ìš©ë¥ **: 100% âœ…
- **ì—ëŸ¬ ì²˜ë¦¬**: ëª¨ë“  APIì— ì—ëŸ¬ ì²˜ë¦¬ ì ìš© âœ…
- **ì ‘ê·¼ì„±**: WCAG 2.1 AA ê¸°ì¤€ ì¤€ìˆ˜ ê³„íš ì¤‘

### ë³´ì•ˆ
- **ì¸ì¦**: JWT ê¸°ë°˜ ì¸ì¦ ì™„ë£Œ âœ…
- **ê¶Œí•œ**: ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬ ì™„ë£Œ âœ…
- **ì…ë ¥ê°’ ê²€ì¦**: Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì™„ë£Œ âœ…

## ğŸ“Š ë‹¨ê³„ë³„ ì§„í–‰ í˜„í™©

### âœ… 1ë‹¨ê³„: DB/ë°±ì—”ë“œ ìŠ¤í‚¤ë§ˆ í™•ì¥ (ì™„ë£Œ)
- [x] Model ì—”í‹°í‹° ìƒì„± ë° ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
- [x] Option ì—”í‹°í‹° ìƒì„± ë° ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
- [x] ê¸°ì¢… ê´€ë¦¬ API ë¼ìš°íŠ¸ (`/api/models`) êµ¬í˜„
- [x] ì˜µì…˜ ê´€ë¦¬ API ë¼ìš°íŠ¸ (`/api/options`) êµ¬í˜„
- [x] í”„ë¡ íŠ¸ì—”ë“œ íƒ€ì… ì •ì˜ (`frontend/types/model.ts`)
- [x] API ë˜í¼ í•¨ìˆ˜ (`frontend/lib/modelApi.ts`)
- [x] ì»¤ìŠ¤í…€ í›… (`frontend/hooks/useModelOptions.ts`)
- [x] í…ŒìŠ¤íŠ¸ ì½”ë“œ (11ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼)

### ğŸ”„ 2ë‹¨ê³„: API ì¸ì¦/ê¶Œí•œ/ê¸°ì¢…ë³„ íŒŒë¼ë¯¸í„° ì ìš© (ì§„í–‰ ì¤‘)
- [ ] ê¸°ì¡´ APIì— modelId íŒŒë¼ë¯¸í„° ì¶”ê°€
- [ ] ê¶Œí•œ ê´€ë¦¬ ê°•í™” (admin/user ì—­í• ë³„ ì ‘ê·¼ ì œì–´)
- [ ] ê¸°ì¢…ë³„ ë°ì´í„° í•„í„°ë§ ì ìš©
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—…ë°ì´íŠ¸

---

> **ì´ ë¬¸ì„œëŠ” ì„œë¹„ìŠ¤ í™•ì¥ ì „ ë°˜ë“œì‹œ ë³´ì™„í•´ì•¼ í•  í•µì‹¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€, ê¸°ì¢…ë³„ ì˜µì…˜(í•„í„°) í¸ì§‘ ê¸°ëŠ¥ì˜ ìš”êµ¬ì‚¬í•­ì„ ì •ë¦¬í•œ ì‹¤ì „ ê°€ì´ë“œì…ë‹ˆë‹¤.**
> ëª¨ë“  ì‹ ê·œ/í™•ì¥ ì‘ì—… ì‹œ ë°˜ë“œì‹œ ì´ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬, í…ŒìŠ¤íŠ¸ ìë™í™”ì™€ ì½”ë“œë¦¬ë·°ë¥¼ í†µí•´ ê¸°ì¡´ í’ˆì§ˆì„ ìœ ì§€í•˜ê³  ë°©í–¥ì„± ì´íƒˆ ì—†ì´ ê°œë°œì„ ì§„í–‰í•˜ì„¸ìš”.

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 1ì›”
**ë²„ì „**: 1.1.0
**ìƒíƒœ**: 1ë‹¨ê³„ ì™„ë£Œ âœ…, 2ë‹¨ê³„ ì§„í–‰ ì¤‘ ğŸ”„ 